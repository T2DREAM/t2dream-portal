{"name":"auth0-lock","version":"10.24.1","description":"Auth0 Lock","author":{"name":"Auth0","email":"support@auth0.com","url":"http://auth0.com"},"license":"MIT","keywords":["auth0","auth","openid","authentication","passwordless","browser","jwt"],"repository":{"type":"git","url":"git://github.com/auth0/lock.git"},"main":"lib/index.js","scripts":{"start":"grunt dev","build":"grunt build","design":"grunt design","dev":"grunt dev","dist":"grunt dist","prepublish":"cross-env BABEL_ENV=npm grunt dist","precommit":"lint-staged","lint":"eslint --ext .jsx,.js src/","test":"cross-env BABEL_ENV=test zuul -- test/**/*.test.js","test:browser":"cross-env BABEL_ENV=test zuul --local 8080 --disable-tunnel -- test/**/*.test.js","test:cli":"cross-env BABEL_ENV=test mochify --extension=.jsx --transform=babelify ./test/setup.js test/**/*.test.js","test:watch":"cross-env BABEL_ENV=test mochify --watch --extension=.jsx --transform=babelify ./test/setup.js test/**/*.test.js","test:jest":"jest --coverage --runInBand","test:jest:watch":"jest --watch --coverage","publish:cdn":"ccu","release":"scripts/release.sh","i18n:translate":"grunt dist && node scripts/complete-translations.js"},"devDependencies":{"babel-core":"^6.17.0","babel-eslint":"^7.2.2","babel-loader":"^6.2.5","babel-plugin-stylus-compiler":"^1.4.0","babel-plugin-transform-css-import-to-string":"0.0.2","babel-plugin-version-inline":"^1.0.0","babel-preset-es2015":"^6.22.0","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.3.13","babelify":"^7.2.0","bump-version":"^0.5.0","component-cdn-uploader":"github:auth0/component-cdn-uploader#v1.3.0","cross-env":"^3.1.4","css-loader":"^0.26.1","dotenv":"^4.0.0","enzyme":"^3.1.0","enzyme-adapter-react-15":"^1.0.1","eslint":"^4.8.0","eslint-config-prettier":"^2.6.0","eslint-plugin-react":"^7.4.0","expect.js":"^0.3.1","flat":"^2.0.1","grunt":"^0.4.5","grunt-babel":"^6.0.0","grunt-cli":"^0.1.13","grunt-concurrent":"^2.3.1","grunt-contrib-clean":"^0.6.0","grunt-env":"^0.4.4","grunt-exec":"^0.4.6","grunt-webpack":"^2.0.1","husky":"^0.14.3","jest":"^21.2.1","json-beautify":"^1.0.1","jsonwebtoken":"^7.3.0","lint-staged":"^4.2.3","mochify":"^3.3.0","prettier":"^1.7.4","react-test-renderer":"^15.6.2","semver":"^5.3.0","sinon":"^1.15.4","stylus":"^0.54.5","stylus-loader":"^2.3.1","uglify-js":"^2.7.4","unminified-webpack-plugin":"^1.1.1","unreleased":"^0.1.0","watchify":"^3.7.0","webpack":"^2.2.1","webpack-core":"^0.6.8","webpack-dev-server":"^2.3.0","zuul":"3.10.1","zuul-ngrok":"4.0.0"},"dependencies":{"auth0-js":"~8.11.2","blueimp-md5":"2.3.1","fbjs":"^0.3.1","idtoken-verifier":"^1.0.1","immutable":"^3.7.3","jsonp":"^0.2.0","password-sheriff":"^1.1.0","prop-types":"^15.6.0","react":"^15.6.2","react-dom":"^15.6.2","react-transition-group":"^2.2.1","superagent":"^3.3.1","trim":"0.0.1","url-join":"^1.1.0"},"cdn-component":{"name":"lock","cdn":"https://cdn.auth0.com","mainBundleFile":"lock.min.js","bucket":"assets.us.auth0.com","localPath":"build"},"jest":{"modulePaths":["<rootDir>/src/","<rootDir>/src/__tests__"],"setupFiles":["<rootDir>/src/__tests__/setup-tests.js"],"coveragePathIgnorePatterns":["/node_modules/","<rootDir>/test/","<rootDir>/lib/","<rootDir>/src/__tests__/testUtils.js","<rootDir>/src/__tests__/setup-tests.js"],"testPathIgnorePatterns":["/node_modules/","<rootDir>/test/","<rootDir>/lib/","<rootDir>/src/__tests__/testUtils.js","<rootDir>/src/__tests__/setup-tests.js"],"coverageReporters":["lcov","text-summary"]},"lint-staged":{"*.{js,jsx}":["npm run lint"],"*.{js,jsx,json,html}":["prettier --write --print-width 100 --single-quote","git add"]},"readme":"[![NPM version][npm-image]][npm-url]\n[![Build status][circleci-image]][circleci-url]\n[![Dependency Status][david-image]][david-url]\n[![License][license-image]][license-url]\n[![Downloads][downloads-image]][downloads-url]\n\n# Lock\n\n[Auth0](https://auth0.com) is an authentication broker that supports both social and enterprise identity providers, including Active Directory, LDAP, Google Apps, and Salesforce.\n\n## Install\n\nFrom CDN\n\n```html\n<!-- Latest patch release (recommended for production) -->\n<script src=\"http://cdn.auth0.com/js/lock/10.24.1/lock.min.js\"></script>\n```\n\nFrom [npm](https://npmjs.org)\n\n```sh\nnpm install auth0-lock\n```\n\nAfter installing the `auth0-lock` module, you'll need bundle it up along with all of its dependencies. See examples for [browserify](examples/bundling/browserify/) and [webpack](examples/bundling/webpack/).\n\n> It is expected that you use the development mode when working on your app, and the production mode when deploying your app to the users.\n> You can find instructions for building your app for production with different module bundlers [here](https://reactjs.org/docs/optimizing-performance.html#use-the-production-build).\n\nIf you are targeting mobile audiences, we recommended that you add:\n\n```html\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n```\n\n## API\n\n### new Auth0Lock(clientID, domain, options)\n\nInitializes a new instance of `Auth0Lock` configured with your application `clientID` and your account's `domain` at [Auth0](https://manage.auth0.com/). You can find this information at your [application settings](https://manage.auth0.com/#/applications).\n\n- **clientId {String}**: Your application _clientId_ in Auth0.\n- **domain {String}**: Your Auth0 _domain_. Usually _your-account.auth0.com_.\n- **options {Object}**: Allows you to customize the dialog's appearance and behavior. See [below](#customization) for the details.\n\n#### Example\n\n```js\nvar clientId = \"YOUR_AUTH0_APP_CLIENTID\";\nvar domain = \"YOUR_DOMAIN_AT.auth0.com\";\nvar lock = new Auth0Lock(clientId, domain);\n\nlock.on(\"authenticated\", function(authResult) {\n  lock.getUserInfo(authResult.accessToken, function(error, profile) {\n    if (error) {\n      // Handle error\n      return;\n    }\n\n    localStorage.setItem(\"accessToken\", authResult.accessToken);\n    localStorage.setItem(\"profile\", JSON.stringify(profile));\n\n    // Update DOM\n  });\n});\n```\n\n### getProfile(idToken, callback)\n\n> *Note:* this method is soon to be deprecated, use `getUserInfo` instead.\n\nOnce the user has logged in and you are in possesion of an id token, you can obtain the profile with `getProfile`.\n\n- **idToken {String}**: User id token.\n- **callback {Function}**: Will be invoked after the user profile been retrieved.\n\n### getUserInfo(accessToken, callback)\n\nOnce the user has logged in and you are in possesion of an access token, you can obtain the profile with `getUserInfo`.\n\n- **accessToken {String}**: User access token.\n- **callback {Function}**: Will be invoked after the user profile been retrieved.\n\n#### Example\n\n```js\nlock.getUserInfo(accessToken, function(error, profile) {\n  if (!error) {\n    alert(\"hello \" + profile.name);\n  }\n});\n```\n\n### on(event, callback)\n\nLock will emit events during its lifecycle.\n\n- `show`: emitted when Lock is shown. Has no arguments.\n- `hide`: emitted when Lock is hidden. Has no arguments.\n- `unrecoverable_error`: emitted when there is an unrecoverable error, for instance when no connection is available. Has the error as the only argument.\n- `authenticated`: emitted after a successful authentication. Has the authentication result as the only argument.\n- `authorization_error`: emitted when authorization fails. Has error as the only argument.\n- `hash_parsed`: every time a new Auth0Lock object is initialized in redirect mode (the default), it will attempt to parse the hash part of the url looking for the result of a login attempt. This is a _low level_ event for advanced use cases and _authenticated_ and _authorization_error_ should be preferred when possible. After that this event will be emitted with `null` if it couldn't find anything in the hash. It will be emitted with the same argument as the `authenticated` event after a successful login or with the same argument as `authorization_error` if something went wrong. This event won't be emitted in popup mode because there is no need to parse the url's hash part.\n- `forgot_password ready`: emitted when the \"Forgot password\" screen is shown.\n- `forgot_password submit`: emitted when the user clicks on the submit button of the \"Forgot password\" screen.\n- `signin submit`: emitted when the user clicks on the submit button of the \"Login\" screen.\n- `signup submit`: emitted when the user clicks on the submit button of the \"Sign up\" screen.\n- `federated login`: emitted when the user clicks on a social connection button. Has the connection name and the strategy as arguments. \n\n### show(options)\n\nDisplays the widget, allowing to override some options.\n\n- **options {Object}**: Allows you to customize some aspect of the dialog's appearance and behavior. The options allowed in here are subset of the options allowed in the constructor and will override them: `allowedConnections`, `auth.params`, `allowLogin`, `allowSignUp`, `allowForgotPassword`, `initialScreen`, `rememberLastLogin` and `flashMessage`. See [below](#customization) for the details. Keep in mind that `auth.params` will be fully replaced and not merged.\n\n#### Example\n\n```js\n// without options\nlock.show();\n\n// will override the allowedConnections option passed to the constructor, if any\nlock.show({allowedConnections: [\"twitter\", \"facebook\"]})\n\n// will override the entire auth.params object passed to the constructor, if any\nlock.show({auth: {params: {state: 'auth_state'}}})\n```\n\n### resumeAuth(hash, callback)\n\nIf you set the [auth.autoParseHash](#authentication-options) option to `false`, you'll need to call this method to complete the authentication flow. This method is useful when you're using a client-side router that uses a `#` to handle urls (angular2 with `useHash` or react-router with `hashHistory`).\n- **hash {String}**: The hash fragment received from the redirect.\n- **callback {Function}**: Will be invoked after the parse is done. Has an error (if any) as the first argument and the authentication result as the second one. If there is no hash available, both arguments will be `null`.\n\n#### Example\n\n```js\nlock.resumeAuth(hash, function(error, authResult) {\n  if (error) {\n    alert(\"Could not parse hash\");\n  }\n  console.log(authResult.accessToken);\n});\n```\n\n### logout(options)\n\nLogs out the user\n\n- **options {Object}**: This is optional and follows the same rules as [this](https://auth0.com/docs/libraries/auth0js#logout)\n\n#### Example\n\n```js\nlock.logout({ returnTo: 'https://myapp.com/bye-bye' });\n```\n\n## OIDC Conformant Mode\n\nIt is strongly encouraged that Lock be used in OIDC Conformant mode when embedding it directly in your application. When this mode is enabled, it will force Lock to use Auth0's current authentication pipeline and will prevent it from reaching legacy endpoints. This mode is not required when using Lock at Auth0's [hosted login page](https://auth0.com/docs/hosted-pages/login).\n\nTo enable OIDC conformant mode, pass a flag in the options object.\n\n```js\nvar lockOptions = {\n  oidcConformant: true\n}\n```\n\nUsing OIDC Conformant mode in Lock necessitates a cross-origin authentication flow which makes use of third party cookies to process the authentication transaction securely. Ensure that **Cross-Origin Authentication** is enabled by switching it on in the [settings](https://manage.auth0.com/#/clients) for your client in the Auth0 dashboard.\n\nFor more information, please see the [OIDC adoption guide](https://auth0.com/docs/api-auth/tutorials/adoption) and the [Cross-Origin Authentication documentation](https://auth0.com/docs/cross-origin-authentication).\n\n> Popup mode doesn't work with OIDC conformant clients.\n\n### Customization\n\nThe appearance of the widget and the mechanics of authentication can be customized with an `options` object which has one or more of the following properties. Each method that opens the dialog can take an `options` object as its first argument.\n\n#### UI options\n\n- **allowedConnections {Array}**: List of connection that will be available to perform the authentication. It defaults to all enabled connections.\n- **autoclose {Boolean}**: Determines whether or not the Lock will be closed automatically after a successful sign in. If the Lock is not `closable` it won't be closed even if this option is set to `true`. Defaults to `false`.\n- **autofocus {Boolean}**: Determines whether or not the first input on the screen, that is the email or phone number input, should have focus when the Lock is displayed. Defaults to `false` when a `container` option is provided or the Lock is being render on a mobile device. Otherwise it defaults to `true`.\n- **avatar {Object}**: Determines whether or not an avatar and a user name should be displayed on the Lock's header once an email or username has been entered and how to obtain it. By default avatars are fetched from [Gravatar](http://gravatar.com/). Supplying `null` will disable the functionality. To fetch avatar from other provider see [below](#avatar-provider).\n- **container {String}**: The `id` of the html element where the Lock will be rendered. This makes the Lock appear inline instead of in a modal window.\n- **language {String}**: Specifies the language of the widget. Defaults to `\"en\"`. Supported languages are:\n  - `de`: German\n  - `en`: English\n  - `es`: Spanish\n  - `it`: Italian\n  - `nb`: Norwegian bokmål\n  - `pt-BR`: Brazilian Portuguese\n  - `ru`: Russian\n  - `zh`: Chinese\n  - `ja`: Japanese\n  - [Check all the available languages](https://github.com/auth0/lock/tree/master/src/i18n)\n- **languageDictionary {Object}**: Allows you to customize every piece of text displayed in the Lock. Defaults to `{}`. See below [Language Dictionary Specification](#language-dictionary-specification) for the details.\n- **closable {Boolean}**: Determines whether or not the Lock can be closed. When a `container` option is provided its value is always `false`, otherwise it defaults to `true`.\n- **popupOptions {Object}**: Allows you to customize the location of the popup in the screen. Any [position and size feature](https://developer.mozilla.org/en-US/docs/Web/API/Window/open#Position_and_size_features) allowed by `window.open` is accepted. Defaults to `{}`.\n- **rememberLastLogin {Boolean}**: Determines whether or not to show a screen that allows you to quickly log in with the account you used the last time when the `initialScreen` option is set to to `\"login\"` (the default). Defaults to `true`.\n- **flashMessage {Object}**: Shows an `error` or `success` flash message when Lock is shown.\n  + **type {String}**: The message type, it should be `error` or `success`.\n  + **text {String}**: The text to show.\n- **allowAutocomplete {Boolean}**: Determines whether or not the the email or username inputs will allow autocomplete (`<input autocomplete />`). Defaults to `false`.\n- **scrollGlobalMessagesIntoView {Boolean}**: Determines whether or not a globalMessage should be scrolled into the user's viewport. Defaults to `true`.\n- **allowShowPassword {Boolean}**: Determines whether or not add a checkbox to show the password when typing it. Defaults to `false`.\n\n\n#### Theming options\n\nTheme options are grouped in the `theme` property of the `options` object.\n\n```js\nvar options = {\n  theme: {\n    labeledSubmitButton: false,\n    logo: \"https://example.com/assets/logo.png\",\n    primaryColor: \"green\",\n    authButtons: {\n      connectionName: {\n        displayName: \"...\", \n        primaryColor: \"...\", \n        foregroundColor: \"...\", \n        icon: \"http://.../logo.png\"\n      }\n    }\n  }\n};\n```\n\n- **labeledSubmitButton {Boolean}**: Indicates whether or not the submit button should have a label. Defaults to `true`. When set to `false` a icon will be shown. The labels can be customized through the `languageDictionary`.\n- **logo {String}**: Url for an image that will be placed in the Lock's header. Defaults to Auth0's logo.\n- **primaryColor {String}**: Defines the primary color of the Lock, all colors used in the widget will be calculated from it. This option is useful when providing a custom `logo` to ensure all colors go well together with the logo's color palette. Defaults to `\"#ea5323\"`.\n- **authButtons {Object}**: Allows the customization of the custom oauth2 login buttons.\n  + **displayName {String}**: The name to show instead of the connection name.\n  + **primaryColor {String}**: The button's background color. Defaults to `\"#eb5424\"`.\n  + **foregroundColor {String}**: The button's text color. Defaults to `\"#FFFFFF\"`.\n  + **icon {String}**: The icon's url for the connection. For example:`\"http://site.com/logo.png\"`.\n\n#### Authentication options\n\nAuthentication options are grouped in the `auth` property of the `options` object.\n\n```js\nvar options = {\n  auth: {\n   params: {param1: \"value1\"},\n   autoParseHash: true,\n   redirect: true,\n   redirectUrl: \"some url\",\n   responseMode: \"form_post\",\n   responseType: \"token\",\n   sso: true,\n   connectionScopes: {\n    connectionName: [ 'scope1', 'scope2' ]\n   }\n  }\n};\n```\n\n- **params {Object}**: Specifies extra parameters that will be sent when starting a login. Defaults to `{}`.\n- **autoParseHash {Boolean}**: When set to `true`, Lock will parse the `window.location.hash` string when instantiated. If set to `false`, you'll have to manually resume authentication using the [resumeAuth](#resumeauthhash-callback) method.\n- **redirect {Boolean}**: When set to `true`, the default, _redirect mode_ will be used. Otherwise, _popup mode_ is chosen. See [below](#popup-mode) for more details.\n- **redirectUrl {String}**: The url Auth0 will redirect back after authentication. Defaults to the empty string `\"\"` (no redirect URL).\n- **responseMode {String}**:  Should be set to `\"form_post\"` if you want the code or the token to be transmitted via an HTTP POST request to the `redirectUrl` instead of being included in its query or fragment parts. Otherwise, it should be ommited.\n- **responseType {String}**:  Should be set to `\"token\"` for Single Page Applications, and `\"code\"` otherwise. Also, `\"id_token\"` is supported for the first case. Defaults to `\"code\"` when `redirectUrl` is provided, and to `\"token\"` otherwise.\n- **sso {Boolean}**:  Determines whether Single Sign On is enabled or not in **Lock**. The Auth0 SSO session will be created regardless of this option if SSO is enabled for your client or tenant.\n- **connectionScopes {Object}**:  Allows you to set scopes to be sent to the oauth2/social connection for authentication.\n\n#### Social options\n\n- **socialButtonStyle {String}**: Determines the size of the buttons for the social providers. Possible values are `\"big\"` and `\"small\"`. The default style depends on the connections that are available:\n  - If only social connections are available, it will default to `\"big\"` when there are 5 connections at most, and default to `\"small\"` otherwise.\n  - If connections from types other than social are also available, it will default to `\"big\"` when there are 3 social connections at most, and default to `\"small\"` otherwise.\n\n#### Database options\n\n- **additionalSignUpFields {Array}**: Allows you to provide extra input fields during sign up. See [below](#additional-sign-up-fields) more for details. Defaults to `[]`.\n- **allowLogin {Boolean}**: When set to `false` the widget won't display the _login screen_. This is useful if you want to use the widget just for sign ups (the _login and sign up tabs_ in the _sign up screen_ will be hidden) or to reset passwords (the _back button_ in the _forgot password screen_ will be hidden). In such cases you may also need to specify the `initialScreen`, `allowForgotPassword` and `allowSignUp` options. It defaults to `true`.\n- **allowForgotPassword {Boolean}**: When set to `false` hides the _\"Don't remember your password?\"_ link in the _login screen_, making the _forgot password screen_ unreachable. Defaults to `true`. Keep in mind that if you are using a database connection with a _custom database_ which doesn't have a _change password script_ the forgot password screen won't be available.\n- **allowSignUp {Boolean}**: When set to `false` hides the _login and sign up tabs_ in the _login screen_, making the _sign up screen_ unreachable. Defaults to `true`. Keep in mind that if the database connection has sign ups _disabled_ or you are using a _custom database_ which doesn't have a _create script_, then the sign up screen won't be available.\n- **defaultDatabaseConnection {String}**: Specifies the database connection that will be used when there is more than one available.\n- **initialScreen {String}**: Name of the screen that will be shown when the widget is opened. Valid values are `\"login\"`, `\"signUp\"`, and `\"forgotPassword\"`. If this option is left unspecified, the widget will pick the first screen that is available from the previous list.  If you set `initialScreen` to `\"forgotPassword\"` we recommend that you set `allowLogin` to `\"false\"`, otherwise a back button will be shown in the forgot password screen and it might not be clear to the user where that back button will take them.\n- **loginAfterSignUp {Boolean}**: Determines whether or not the user will be automatically signed in after a successful sign up. Defaults to `true`.\n- **forgotPasswordLink {String}**: URL for a page that allows the user to reset her password. When set to a non-empty string, the user will be linked to the provided URL when clicking the _\"Don't remember your password?\"_ link in the _login screen_.\n- **mustAcceptTerms {Boolean}**: When set to `true` displays a checkbox input along with the terms and conditions that must be checked before signing up. The terms and conditions can be specified via the `languageDictionary` option, see the example below. Defaults to `false`.\n- **prefill {Object}**: Allows you to set the initial value for the _email_ and/or _username_ inputs, e.g. `{prefill: {email: \"someone@auth0.com\", username: \"someone\"}}`. When omitted no initial value will be provided.\n- **signUpLink {String}**: URL for a page that allows the user to sign up. When set to a non-empty string, the user will be linked to the provided URL when clicking the _sign up_ tab in the _login screen_.\n- **usernameStyle {String}**: Determines what will be used to identify the user for a Database connection that has the `requires_username` flag set, otherwise it will be ignored. Possible values are `\"username\"` and `\"email\"` and by default both `username` and `email` are allowed.\n\n#### Enterprise options\n\n- **defaultEnterpriseConnection {String}**: Specifies the enterprise connection which allows you to login using an username and a password that will be used when there is more than one available or there is a database connection. If a `defaultDatabaseConnection` is provided the database connection will be used and this option will be ignored.\n\n#### Example\n\n```js\nvar options = {\n  container: \"myContainer\",\n  closable: false,\n  languageDictionary: {\n    signUpTerms: \"I agree to the <a href='/terms' target='_new'>terms of service</a> and <a href='/privacy' target='_new'>privacy policy</a>.\",\n    title: \"My Company\",\n  },\n  autofocus: false\n};\n```\n\n#### Other options\n\n- **configurationBaseUrl {String}**: Overrides client settings base url. By default it uses Auth0's CDN url when `domain` has the format `*.auth0.com`. Otherwise, it uses the provided `domain`.\n- **languageBaseUrl {String}**: Overrides the language source url for Auth0's provided translations. By default it uses to Auth0's CDN url `https://cdn.auth0.com`.\n- **hashCleanup {Boolean}**: When enabled, it will remove the hash part of the callback url after the user authentication. Defaults to `true`.\n- **connectionResolver {Function}**: When in use, provides an extensibility point to make it possible to choose which connection to use based on the username information. Has `username`, `context` and `callback` as parameters. The callback expects an object like: `{type: 'database', name: 'connection name'}`. **This only works for database connections.** Keep in mind that this resolver will run in the username/email input's `onBlur` event, so keep it simple and fast. **This is a beta feature. If you find a bug, please open a github [issue](https://github.com/auth0/lock/issues/new).**\n\n```js\nvar options = {\n  connectionResolver: function (username, context, cb) {\n    var domain = username.includes('@') && username.split('@')[1];\n    if (domain) {\n      // If the username is test@auth0.com, the connection used will be the `auth0.com` connection.\n      // Make sure you have a database connection with the name `auth0.com`.\n      cb({ type: 'database', name: domain });\n    } else {\n      // Use the default approach to figure it out the connection\n      cb(null);\n    }\n  }\n}\n```\n\n#### Language Dictionary Specification\n\nA language dictionary is an object that allows you to customize every piece of text the Lock needs to display. For instance, the following code will change the title displayed in the header and the placeholder for the email field.\n\n\n```js\nvar options = {\n  languageDictionary: {\n    emailInputPlaceholder: \"please enter you email\",\n    title: \"My Company\"\n  },\n};\n```\n\n#### Additional sign up fields\n\nExtra input fields can be added to the sign up screen with the `additionalSignUpFields` option. Every input must have a `name` and a `placeholder`, and an `icon` url can also be provided. Also, the initial value can be provided with the `prefill` option, which can be a **string** with the value or a **function** that obtains it. Other options depend on the type of the field, which is defined via the `type` option and defaults to `\"text\"`.\n\nAdditional sign up fields are rendered below the default fields in the order they are provided.\n\n##### Text field\n\nA `validator` function can also be provided.\n\n\n```js\nvar options = {\n  additionalSignUpFields: [{\n    name: \"address\",\n    placeholder: \"enter your address\",\n    // The following properties are optional\n    icon: \"https://example.com/assests/address_icon.png\",\n    prefill: \"street 123\",\n    validator: function(address) {\n      return {\n         valid: address.length >= 10,\n         hint: \"Must have 10 or more chars\" // optional\n      };\n    }\n  }]\n}\n```\n\n##### Select field\n\nTo specify a select field `type: \"select\"` needs to be provided along with the `options` property.\n\n```js\nvar options = {\n  additionalSignUpFields: [{\n    type: \"select\",\n    name: \"location\",\n    placeholder: \"choose your location\",\n    options: [\n      {value: \"us\", label: \"United States\"},\n      {value: \"fr\", label: \"France\"},\n      {value: \"ar\", label: \"Argentina\"}\n    ],\n    // The following properties are optional\n    icon: \"https://example.com/assests/location_icon.png\",\n    prefill: \"us\"\n  }]\n}\n```\n\nThe `options` and the `prefill` value can be provided through a function.\n\n```js\nvar options = {\n  additionalSignUpFields: [{\n    type: \"select\",\n    name: \"location\",\n    placeholder: \"choose your location\",\n    options: function(cb) {\n      // obtain options, in case of error you call cb with the error in the\n      // first arg instead of null\n      cb(null, options);\n    },\n    icon: \"https://example.com/assests/location_icon.png\",\n    prefill: function(cb) {\n      // obtain prefill, in case of error you call cb with the error in the\n      // first arg instead of null\n      cb(null, prefill);\n    }\n  }]\n}\n```\n\n\n##### Checkbox field\n\nTo specify a checkbox field use: `type: \"checkbox\"`\nThe `prefill` value can determine the default state of the checkbox and it is required.\n\n```js\nvar options = {\n  additionalSignUpFields: [{\n    type: \"checkbox\",\n    name: \"newsletter\",\n    prefill: \"true\",\n    placeholder: \"I hereby agree that I want to receive marketing emails from your company\",\n  }]\n}\n```\n\n#### Avatar provider\n\nLock can show avatars fetched from anywhere. A custom avatar provider can be specified with the `avatar` option by passing an object with the keys `url` and `displayName`. Both properties are functions that take an email and a callback function.\n\n```js\nvar options = {\n  avatar: {\n    url: function(email, cb) {\n      // obtain url for email, in case of error you call cb with the error in\n      // the first arg instead of null\n      cb(null, url);\n    },\n    displayName: function(email, cb) {\n      // obtain displayName for email, in case of error you call cb with the\n      // error in the first arg instead of null\n      cb(null, displayName);\n    }\n  }\n};\n```\n\n### Popup mode\n\nA popup window can be displayed instead of redirecting the user to a social provider website. While this has the advantage of preserving page state, it has some issues. Often times users have popup blockers that prevent the login page from even displaying. There are also known issues with mobile browsers. For example, in recent versions of Chrome on iOS, the login popup does not [close properly](https://github.com/auth0/lock/issues/71) after login. For these reasons, we encourage developers to avoid this mode, even with Single Page Apps.\n\nIf you decide to use popup mode you can activate it by passing the option `auth: {redirect: false}` when constructing `Auth0Lock`.\n\n```js\nvar clientId = \"YOUR_AUTH0_APP_CLIENTID\";\nvar domain = \"YOUR_DOMAIN_AT.auth0.com\";\nvar options = {\n  auth: {\n    redirect: false\n  }\n};\n\nvar lock = new Auth0Lock(clientId, domain, options);\nlock.show();\n```\n\n> Popup mode doesn't work with OIDC conformant clients.\n\nMore information can be found in [Auth0's documentation](https://auth0.com/docs/libraries/lock/v10/popup-mode).\n\n## Browser Compatibility\n\nWe ensure browser compatibility in Chrome, Safari, Firefox and IE >= 10. We currently use [zuul](https://github.com/defunctzombie/zuul) along with [Saucelabs](https://saucelabs.com) to run integration tests on each push.\n\n## Issue Reporting\n\nIf you have found a bug or if you have a feature request, please report them at this repository issues section. Please do not report security vulnerabilities on the public GitHub issue tracker. The [Responsible Disclosure Program](https://auth0.com/whitehat) details the procedure for disclosing security issues.\n\n## Author\n\n[Auth0](auth0.com)\n\n## License\n\nThis project is licensed under the MIT license. See the [LICENSE](LICENSE) file for more info.\n\n\n[circleci-image]: https://img.shields.io/circleci/project/github/auth0/lock.svg?style=flat-square\n[circleci-url]: https://circleci.com/gh/auth0/lock/tree/master\n[npm-image]: https://img.shields.io/npm/v/auth0-lock.svg?style=flat-square\n[npm-url]: https://npmjs.org/package/auth0-lock\n[license-image]: http://img.shields.io/npm/l/auth0-lock.svg?style=flat-square\n[license-url]: #license\n[downloads-image]: http://img.shields.io/npm/dm/auth0-lock.svg?style=flat-square\n[downloads-url]: https://npmjs.org/package/auth0-lock\n[david-image]: https://david-dm.org/auth0/lock/status.svg?style=flat-square\n[david-url]: https://david-dm.org/auth0/lock\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/auth0/lock/issues"},"homepage":"https://github.com/auth0/lock#readme","_id":"auth0-lock@10.24.1","_shasum":"f85a87c3a9309b9a7a7df369040fc663bde6ec9c","_resolved":"https://registry.npmjs.org/auth0-lock/-/auth0-lock-10.24.1.tgz","_from":"https://registry.npmjs.org/auth0-lock/-/auth0-lock-10.24.1.tgz"}